webpackJsonp([1],{"9lzP":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),a=n("zL8q"),s=n.n(a),i=(n("tvR6"),{methods:{handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)}}}),o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"tac"},[n("el-col",[n("h5",[t._v("导航栏")]),t._v(" "),n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1"},on:{open:t.handleOpen,close:t.handleClose}},[n("el-menu-item",{staticClass:"float_left",attrs:{index:"1"}},[n("a",{attrs:{href:"/#/Json2Struce"}},[n("i",{staticClass:"el-icon-menu"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("Json生成Go Struct")])])]),t._v(" "),n("el-menu-item",{staticClass:"float_left",attrs:{index:"2"}},[n("a",{attrs:{href:"/#/BeautifulJson"}},[n("i",{staticClass:"el-icon-menu"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("Json美化")])])]),t._v(" "),n("el-menu-item",{staticClass:"float_left",attrs:{index:"3"}},[n("a",{attrs:{href:"/#/Sql2Struct"}},[n("i",{staticClass:"el-icon-menu"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("SQL生成GO Struct")])])]),t._v(" "),n("el-menu-item",{staticClass:"float_left",attrs:{index:"4"}},[n("a",{attrs:{href:"/#/About"}},[n("i",{staticClass:"el-icon-menu"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("关于ToolsBox")])])])],1)],1)],1)},staticRenderFns:[]};var c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-row",[e("el-col",{attrs:{span:24}},[e("a",{attrs:{href:"/"}},[e("div",{staticClass:"head-wrap"},[this._v("实用工具箱")])])])],1)},staticRenderFns:[]};var l={name:"App",components:{navmenu:n("VU/8")(i,o,!1,function(t){n("9lzP")},"data-v-cd61b6e6",null).exports,vheader:n("VU/8")(null,c,!1,function(t){n("dueB")},"data-v-5d1473c6",null).exports}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("el-container",[e("el-header",{staticClass:"header"},[e("vheader")],1),this._v(" "),e("el-container",[e("el-aside",{attrs:{width:"200px"}},[e("navmenu")],1),this._v(" "),e("el-main",{staticStyle:{"text-align":"left"}},[e("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var d=n("VU/8")(l,u,!1,function(t){n("poJp")},null,null).exports,f=n("/ocq"),m={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"index"}},[this._v("hello")])},staticRenderFns:[]};n("VU/8")({name:"Index"},m,!1,function(t){n("bLsS")},"data-v-157e9c34",null).exports;var p=n("pFYg"),h=n.n(p),v={name:"Json2Struct",data:function(){return{json_data:'{\n    "str":"string",\n    "number":123,\n    "boolean":true,\n    "array":[\n        1,\n        2,\n        3\n    ],\n    "obj":{\n        "t":"1"\n    }\n}',go_struct:""}},methods:{run:function(){var t=JSON.parse(this.json_data);this.go_struct=this.json2struct(t)},json2struct:function(t){var e="struct{";for(var n in t){var r=this.firstUpperCase(n);if("object"!==h()(t[n])||t[n]instanceof Array)e+="\n        "+r+" "+this.jsType2goType(t[n])+' `db:"'+n+'" json:"'+n+'"`';else e+="\n        "+r+" "+this.json2struct(t[n])+'`db:"'+n+'" json:"'+n+'"`'}return e+="\n}"},firstUpperCase:function(t){return t.toLowerCase().replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})},jsType2goType:function(t){switch(void 0===t?"undefined":h()(t)){case"bigint":return"int64";case"boolean":return"bool";case"number":return t%1==0?"int64":"float64";case"string":return"string";case"object":return t instanceof Array?"[]"+this.jsType2goType(t[0]):"interface{}";default:return"interface{}"}}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"json2struce"}},[n("div",{attrs:{id:"json"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.json_data,expression:"json_data"}],domProps:{value:t.json_data},on:{input:function(e){e.target.composing||(t.json_data=e.target.value)}}})]),t._v(" "),n("el-button",{staticStyle:{float:"left","margin-top":"250px"},attrs:{type:"primary"},on:{click:t.run}},[t._v(" > ")]),t._v(" "),n("div",{directives:[{name:"highlight",rawName:"v-highlight"}],attrs:{id:"struct"}},[n("pre",[n("code",{domProps:{innerHTML:t._s(t.go_struct)}})])])],1)},staticRenderFns:[]};var T=n("VU/8")(v,_,!1,function(t){n("xF3l")},"data-v-65e30ff5",null).exports,g=n("R0ti"),L={name:"BeautifulJson",components:{JsonViewer:n.n(g).a},data:function(){return{jsonStr:"",json:{}}},methods:{objParse:function(t){for(var e in t)"string"==typeof t[e]?t[e]=this.str2json(t[e]):"object"==h()(t[e])&&(t[e]=this.objParse(t[e]));return t},str2json:function(t){try{var e=JSON.parse(t);for(var n in e)"string"==typeof e[n]?e[n]=this.str2json(e[n]):"object"==h()(e[n])&&(e[n]=this.objParse(e[n]));return e}catch(e){return t}}},watch:{jsonStr:function(t){this.json=this.str2json(t)}}},E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"beautifulJson"}},[n("div",{attrs:{id:"jsonData"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.jsonStr,expression:"jsonStr"}],domProps:{value:t.jsonStr},on:{input:function(e){e.target.composing||(t.jsonStr=e.target.value)}}})]),t._v(" "),n("div",{attrs:{id:"json_viewer"}},[n("json-viewer",{attrs:{value:t.json,"expand-depth":5,copyable:"",boxed:""}})],1)])},staticRenderFns:[]};var C=n("VU/8")(L,E,!1,function(t){n("fkPp")},"data-v-d696f720",null).exports,b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.sql,expression:"sql"}],staticStyle:{width:"40%",height:"600px",float:"left"},domProps:{value:t.sql},on:{input:function(e){e.target.composing||(t.sql=e.target.value)}}}),t._v(" "),n("el-button",{staticStyle:{float:"left","margin-top":"250px","margin-left":"10px","margin-right":"10px"},attrs:{type:"primary"},on:{click:t.toStruct}},[t._v(" >")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.struct,expression:"struct"}],staticStyle:{width:"40%",height:"600px",float:"left"},domProps:{value:t.struct},on:{input:function(e){e.target.composing||(t.struct=e.target.value)}}})],1)},staticRenderFns:[]};var N=n("VU/8")({name:"Sql2Struct",data:function(){return{struct:"",sql:"CREATE TABLE `nglog` (\n `id` int unsigned NOT NULL AUTO_INCREMENT,\n `timestamp` datetime NOT NULL,\n `address` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,\n `referer` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,\n `uri` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,\n `agent` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,\n `status` int NOT NULL,\n `httphost` varchar(25) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,\n `host` varchar(22) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,\n `size` int NOT NULL,\n `respnsetime` float NOT NULL,\n `upstremtime` float NOT NULL,\n `upstremhost` varchar(22) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,\n `xff` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,\n `request` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,\n `clientip` varchar(22) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,\n `bot` tinyint NOT NULL DEFAULT '0',\n PRIMARY KEY (`id`),\n KEY `idx_date` (`timestamp`) USING BTREE\n) ENGINE=InnoDB AUTO_INCREMENT=184384 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci"}},methods:{toStruct:function(){for(var t="struct {\n",e=this.parseSql(this.sql),n=0;n<e.length;n++){var r=this.parseFiled(e[n]);r&&(r.comment?t+=this.nametoUpperCase(r.fieldName)+" "+this.sqlType2Golang(r.fieldType,r.unsigned)+" "+this.commentGen(r.fieldName)+" //"+r.comment+"\n":t+=this.nametoUpperCase(r.fieldName)+" "+this.sqlType2Golang(r.fieldType,r.unsigned)+" "+this.commentGen(r.fieldName)+"\n")}t+="}",this.struct=t},commentGen:function(t){return'`db:"'+t+'" json:"'+t+'"`'},nametoUpperCase:function(t){return t.replace(/^\S/,function(t){return t.toUpperCase()}).replaceAll(/_\S/g,function(t){return t[1].toUpperCase()})},sqlType2Golang:function(t,e){return t.indexOf("char")>=0?"string":t.indexOf("int")>0?e?"uint":"int":t.indexOf("decimal")?"float64":"string"},parseFiled:function(t){if(t.match(/^PRIMARY KEY/i)||t.match(/^KEY/i))return!1;for(var e=t.split(" "),n={fieldName:e[0],fieldType:e[1],unsigned:!1,comment:""},r=2;r<e.length;r++)"unsigned"!==e[r]&&"UNSIGNED"!==e[r]||(n.unsigned=!0);var a=t.match(/comment .*/i);return a&&(n.comment=a[0].replace("comment","").replace("COMMENT","").trim().replaceAll(/'/g,"")),n},parseSql:function(t){var e=t.replace(/\s{2,}/g," ");e=(e=(e=e.replaceAll(/\n/g,"")).replace(/create table.*?\(/i,"")).slice(0,e.lastIndexOf(")"));for(var n=[],r=!1,a=!1,s=0,i=0;i<e.length;i++)"'"===e[i]&&"\\"!==e[i-1]&&(r=!r),"("===e[i]&&(a=!0),")"===e[i]&&(a=!1),r||a||","!==e[i]||(n.push(e.slice(s,i).trim().replaceAll(/`/g,"")),s=i+1);return n.push(e.slice(s,e.length).trim().replaceAll(/`/g,"")),n}}},b,!1,function(t){n("iXQi")},"data-v-6d29851e",null).exports,A={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"desc"},[this._v("该项目完全开源，"),e("a",{attrs:{href:"https://github.com/Jinnrry/ToolsBox"}},[this._v("Github地址")]),this._v("\n  \t新功能建议可以Issues中提出!\n  ")]),this._v(" "),e("div",{staticClass:"desc"})])}]};var S=n("VU/8")({name:"About"},A,!1,function(t){n("SPZE")},"data-v-30527b68",null).exports;r.default.use(f.a);var x=new f.a({routes:[{path:"/",name:"Json2Struce",component:T},{path:"/Json2Struce",name:"Json2Struce",component:T},{path:"/BeautifulJson",name:"BeautifulJson",component:C},{path:"/Sql2Struct",name:"Sql2Struct",component:N},{path:"/About",name:"About",component:S}]}),j=n("V8mf"),O=n.n(j),R={install:function(t){t.directive("highlight",{inserted:function(t){for(var e=t.querySelectorAll("pre code"),n=0;n<e.length;n++)O.a.highlightBlock(e[n])},componentUpdated:function(t){for(var e=t.querySelectorAll("pre code"),n=0;n<e.length;n++)O.a.highlightBlock(e[n])}})}},U=R;r.default.config.productionTip=!1,r.default.use(s.a),r.default.use(U),new r.default({el:"#app",router:x,components:{App:d},template:"<App/>"})},SPZE:function(t,e){},bLsS:function(t,e){},dueB:function(t,e){},fkPp:function(t,e){},iXQi:function(t,e){},poJp:function(t,e){},tvR6:function(t,e){},xF3l:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.93bed5e8a29226cfe79a.js.map